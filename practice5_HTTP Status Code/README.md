### 20220503

### 서론

- HTTP 상태 코드를 공부하며 [HTTP STATUS DOGS](https://httpstatusdogs.com/)페이지를 알게 됐으며 HTTP STATUS CODE를 공부할 겸 중요하다고 생각하는 몇 가지 상태 코드들을 갖고 웹페이지 제작도 연습할 겸 프로젝트를 진행했다.



----

### 공부

Server 는 크게 두가지로 나눠짐 Web server랑 API server

서버는 클라이언트의 요청을 응답하는 어느 컴퓨터

web 서버는 Request가 왔을 때, web page를 Response의 Body에 담아서 응답을 주는 거

API 서버는 Request가 왔을 때 요청한 것에 대한 처리를 하고 그 결과를 Response의 Body에 JSON형식으로 담아서 주는 거

----

HTTP

- 클라이언트와 서버가 서로 어떤 형식으로 데이터를 보내줄건지를 약속한 것 (규약)
- FTP, SSH, TELNET, SMTP, HTTP, HTTPS 등이 있음 HTTPS에서 S는 Secure임
- 클라이언트와 서버가 서로 데이터를 주고 받으려면 '프로토콜'이 필요하다. 웹 개발에서는 HTTP, HTTPS 중요하다.

HTTP의 기본 특성

- 비연결성(Connetless)
  - 클라이언트와 서버가 한 번 응답을 주고 받으면, 연결을 끊는다.
- 무상태(Stateless)
  - Connetless 발생한 것, 서버가 클라이언트를 기억하지 못함(식별 불가능)
    - 매번 요청할 때마다, 내가 누군지를 서버에게 알려줘야 함
- 불편 함
- 해결 위해 쿠키와 세션 등장!
- 첨부터 쿠키 세션 개발한게 아니라 첨엔 쿠키먼저 개발함
  - 쿠키 - 클라이언트! 너가 기억해서 나한테(서버) 들고 와
  - 문제가 쿠키가 굉장히 쉽게 뺏김 -> 보안이 취약
  - 세션 - 그 민감한 정보, 서버가 기억해줄게 -> 아이디 비교해서 식별 해줌

----

HTTP Method

- 클라이언트가 서버에 Request
  - R -> 조회 : GET
  - C -> 생성 : POST
  - U -> 수정 : PUT
  - D -> 삭제 : DELETE

Request는 Head 와 Body 로 나눠짐

- Head에는 요청에대한 부가정보와 HTTP Method가 있음
- Body에는 실제 데이터가 있음
  - Body는 무조건 있지않을 수 있음, Head는 무조건 채워져 있음
    - POST랑 PUT에는 Body가 필요하지만 DELETE에는 필요 없기도 함

HTTP Response 도 Head 와 Body로 나눠짐

- Head에 상태코드가 있음 (숫자) 각각의 상태코드는 상태메시지를 갖고있음 (ex. 200 = 'Ok', 404 = 'Not Found' ...여기서 왼쪽은 상태코드 오른쪽은 상태메시지)
- 상태코드 5가지 그룹 (여기서 중요한 그룹 3가지는 200, 400, 500번대임)
  - 100번대 : 서버가 클라이언트한테 정보성 응답 
    - ( 100 : Continue )
  - 200번대 : 일반적인, 정상적인 상황
    - (200 : OK, 201 : Created)
  - 300번대 : 클라이언트 요청이 들어왔을 때 서버가 말하길 그거 처리할려면 좀 더 해야 한다고 함
    - (301 : Moved Permanently, 304 : Not Modified)
  - 400번대 : 클라이언트가 잘못했어!
    - (400 : Bad Request, 401 : Unauthorized, 403 : Forbidden, 404: Not Found, 429 : Too Maney Reqeusts)
  - 500번대 : 서버가 잘못했어! (백엔드 개발자의 야근코드ㅠㅠ)
    - (500 : Internal Server Error, 503 : Service Unavailable)

[고양이 사진들로 HTTP 설명](https://http.cat/)

### mdn web docs 출처

- 100 Continue

  : 응답이 지금까지 상태 괜찮음. 클라이언트가 계속해서 요청을 하거나 이미 요청을 완료한 경우에는 무시해도 됨.

- 200 OK

  : 요청이 성공적으로 됨. 성공의 의미는 HTTP 메소드에 따라 다름. 

  GET: 리소스를 불러와서 메시지 바디에 전송되었음.

  HEAD: 개체 해더가 메시지 바디에 있음.

  PUT 또는 POST: 수행 결과에 대한 리소스가 메시지 바디에 전송되었음.

  TRACE: 메시지 바디는 서버에서 수신한 요청 메시지를 포함하고 있음.

- 201 Created

  : 요청이 성공적이었으며 그 결과로 새로운 리소스가 생성되었음. 이 응답은 일반적으로 POST 요청 또는 일부 PUT 요청 이후에 따라옴.

- 301 Moved Permanently

  : 요청한 리소스의 URI가 변경되었음을 의미함. 새로운 URI가 응답에서 아마도 주어질 수 있음.

- 304 Not Modified

  : 캐시를 목적으로 사용됨. 클라이언트에게 응답이 수정되지 않았음을 알려주며, 그러므로 클라이언트는 계속해서 응답의 캐시된 버전을 사용할 수 있음.

- 400 Bad Request

  : 잘못된 문법으로 인하여 서버가 요청을 이해할 수 없음을 의미함.

- 401 Unauthorized

  : 비록 HTTP 표준에서는 "미승인(unauthorized)"를 명확히 하고 있지만, 의미상 이 응답은 "비인증(unauthenticated)"을 의미함. 클라이언트는 요청한 응답을 받기 위해서는 반드시 스스로를 인증해야 함.

- 403 Forbidden

  : 클라이언트는 콘텐츠에 접근할 권리를 가지고 있지 않음. 401과 다른 점은 서버가 클라이언트가 누구인지 알고 있음.

- 404 Not Found

  : 서버는 요청받은 리소스를 찾을 수 없음. 브라우저에서는 알려지지 않은 URL을 의미함. 이것은 API에서 종점은 적절하지만 리소스 자체는 존재하지 않음을 의미할 수도 있으며 서버들은 인증받지 않은 클라이언트로부터 리소스를 숨기기 위하여 이 응답을 403 대신에 전송할 수도 있음.

- 429 Too Many Requests

  : 사용자가 지정된 시간에 너무 많은 요청을 보냈음.

- 500 Internal Server Error

  : 서버가 처리 방법을 모르는 상황이 발생함.

- 503 Service Unavailable

  : 서버가 요청을 처리할 준비가 되지 않았음. 일반적인 원인은 유지보수를 위해 작동이 중단되거나 과부하가 걸렸을 때 임. 

----

HTTP 요청의 대상을 리소스라고 함 ( 리소스는 서버에 존재하는 정보 )

URI는 URL 과 URN 으로 나눠지는데 URN은 쓸 일이 없음

따라서 거의 URI 랑 URL 이랑 같은 의미로 쓰임

URL은 서버에 존재하는 정보가 네트워크에서 봤을 때 어디에 위치해 있는지 표현한 거

----

API 는 사실 web API 임

webAPI 는 프론트엔드에서 어떤 리퀘스트를 보내면 백엔드에서 어떤 처리를해서 어떤 리스폰스를 내려주는 규격,약속 -> 약속이므로 어떻게 설계해도 기능적으로 문제가 없긴 함.

- REST API 가 그 약속을 위한 가이드라인임 

  > (REST는 표현적인 상태 이전)
  >
  > web은 하나의 거대한 프로그램 
  >
  > 웹서핑은 웹이 매 순간순간의 표현적인 상태를 보는 거
  >
  > 그래서 상태 이전 REST
  >
  > ...

  1. URL은 리소스를 나타내기 위해서만 사용하고, 리소스에 대한 처리는 메서드로 표현한다.
  2. Document는 단수명사로, Collection은 복수 명사로 표현한다.
